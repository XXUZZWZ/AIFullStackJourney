# js 执行机制

- 调用栈
  记录函数的执行顺序，执行上下文和变量环境
- 作用域
  变量查找的规则
  当前作用域 --> 冒泡到上级作用域-->全局-->报错

- 作用域链
  变量查找路径

- 执行上下文
  函数调用时创建的上下文(代码执行)对象
- 变量环境
  提升
- 词法环境
  TDZ
- 词法作用域

在每个执行上下文的变量环境中，都包含一个外部应用 outer ,用来指向外部的执行上下文。

## 作用链

- 一段代码使用一个变量时，js 引擎首先会在当前执行上下文中查找变量。
- 沿着 outer 指向的外部作用域查找
- 直到全局
  查找的路径就叫作用域链

## 词法作用域

作用域链是代码编译阶段就决定了的。

## 词法作用域链

作用域有代码中函数声明的位置决定，静态的作用域
预测代码在执行是如何查找变量

## 闭包

基础是理解词法作用域等
根据词法作用域的规则，内部函数 getName h， setName 外部 foo 中的变量
